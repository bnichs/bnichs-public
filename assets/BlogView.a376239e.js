import{P as y,f as B,B as P}from"./BlogPostInfo.032882ea.js";import{d as f,h as k,r as m,o as s,f as o,e as a,F as c,z as g,a as r,w as l,t as p,p as b,j as T,c as L,M as $,A as M,g as _,b as V}from"./index.94bb3e2f.js";const x=f({props:{tags:{default:[],type:Array}},mounted(){},computed:{}});const v=e=>(b("data-v-1c892c53"),e=e(),T(),e),I={class:"tagBox"},N=v(()=>a("span",null," Tags: ",-1)),R={class:"tag"},A=v(()=>a("div",{style:{clear:"both"}},null,-1));function C(e,t,d,i,u,n){const w=m("RouterLink");return s(),o(c,null,[a("div",I,[N,(s(!0),o(c,null,g(e.tags,h=>(s(),o("div",null,[r(w,{to:{name:"blog",query:{tag:h}}},{default:l(()=>[a("span",R,p(h),1)]),_:2},1032,["to"])]))),256))]),A],64)}const S=k(x,[["render",C],["__scopeId","data-v-1c892c53"]]),F=V(" Posts "),H={key:0,class:"tagTitle"},q={key:0,class:"tagTitle"},D={class:"postPreview"},j={class:"postPreviewTitle"},z=["innerHTML"],E={class:"previewFooter"},G=a("span",null,"View Post...",-1),J={key:1},K=f({data(){return{manifest:new y({})}},mounted(){B().then(e=>{this.manifest=e}),console.log("Heres the man"),console.log(this.manifest)},computed:{tag(){return M().query.tag},manifestLoaded(){return this.manifest.loaded()},allPosts(){let e=new Date;return new Map(Array.from(this.manifest.posts).filter(([t,d])=>d.published_date<e))},posts(){return this.tag?new Map(Array.from(this.allPosts).filter(([e,t])=>!!t.tags.includes(this.tag))):this.allPosts}}}),U=f({...K,__name:"BlogView",setup(e){return(t,d)=>{const i=m("RouterLink");return s(),L($,null,{title:l(()=>[F,t.tag?(s(),o("span",H," ... with tag: "+p(t.tag),1)):_("",!0),r(i,{to:{name:"blog"}},{default:l(()=>[t.tag?(s(),o("span",q," View all posts ")):_("",!0)]),_:1})]),content:l(()=>[t.manifestLoaded?(s(!0),o(c,{key:0},g(t.posts,([u,n])=>(s(),o("div",D,[r(i,{to:{name:"blog_post",params:{ref:u}}},{default:l(()=>[a("h3",j,p(n.title),1)]),_:2},1032,["to"]),r(S,{tags:n.tags},null,8,["tags"]),a("span",{class:"postPreviewText",innerHTML:n.preview},null,8,z),a("div",E,[r(P,{published:n.published_date,updated:n.updated_date},null,8,["published","updated"]),r(i,{class:"viewPostButton",to:{name:"blog_post",params:{ref:u}}},{default:l(()=>[G]),_:2},1032,["to"])])]))),256)):_("",!0),t.posts?_("",!0):(s(),o("div",J," No posts found... "))]),_:1})}}});export{U as default};
