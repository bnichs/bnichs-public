import{P as y,f as k}from"./blog.3e5caa94.js";import{d as p,e as B,h as f,o as s,f as o,g as a,F as u,l as g,a as r,w as n,t as d,p as T,j as L,c as $,m as P,i as _,b as V}from"./index.d6cc2cd0.js";import{M}from"./MainBox.ed8f683b.js";const b=p({props:{tags:{default:[],type:Array}},mounted(){},computed:{}});const h=t=>(T("data-v-1c892c53"),t=t(),L(),t),x={class:"tagBox"},N=h(()=>a("span",null," Tags: ",-1)),R={class:"tag"},C=h(()=>a("div",{style:{clear:"both"}},null,-1));function I(t,e,v,i,c,l){const w=f("RouterLink");return s(),o(u,null,[a("div",x,[N,(s(!0),o(u,null,g(t.tags,m=>(s(),o("div",null,[r(w,{to:{name:"blog",query:{tag:m}}},{default:n(()=>[a("span",R,d(m),1)]),_:2},1032,["to"])]))),256))]),C],64)}const S=B(b,[["render",I],["__scopeId","data-v-1c892c53"]]),H=V(" Posts "),q={key:0,class:"tagTitle"},A={key:0,class:"tagTitle"},F={class:"postPreview"},j={class:"postPreviewTitle"},D=["innerHTML"],E=a("span",{class:"viewPostButton"},"View Post...",-1),z={key:1},G=p({data(){return{manifest:new y({})}},mounted(){k().then(t=>{this.manifest=t}),console.log("Heres the man"),console.log(this.manifest)},computed:{tag(){return P().query.tag},manifestLoaded(){return this.manifest.loaded()},posts(){return console.log(this.tag),this.tag?new Map(Array.from(this.manifest.posts).filter(([t,e])=>!!e.tags.includes(this.tag))):this.manifest.posts}}}),Q=p({...G,__name:"BlogView",setup(t){return(e,v)=>{const i=f("RouterLink");return s(),$(M,null,{title:n(()=>[H,e.tag?(s(),o("span",q," ... with tag: "+d(e.tag),1)):_("",!0),r(i,{to:{name:"blog"}},{default:n(()=>[e.tag?(s(),o("span",A," View all posts ")):_("",!0)]),_:1})]),content:n(()=>[e.manifestLoaded?(s(!0),o(u,{key:0},g(e.posts,([c,l])=>(s(),o("div",F,[r(i,{to:{name:"blog_post",params:{ref:c}}},{default:n(()=>[a("h3",j,d(l.title),1)]),_:2},1032,["to"]),r(S,{tags:l.tags},null,8,["tags"]),a("span",{class:"postPreviewText",innerHTML:l.preview},null,8,D),r(i,{to:{name:"blog_post",params:{ref:c}}},{default:n(()=>[E]),_:2},1032,["to"])]))),256)):_("",!0),e.posts?_("",!0):(s(),o("div",z," No posts found... "))]),_:1})}}});export{Q as default};
