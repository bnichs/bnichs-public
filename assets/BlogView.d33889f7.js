import{P as y,f as k}from"./blog.3e5caa94.js";import{d as p,h as B,r as m,o as s,f as o,e as a,F as u,z as f,a as r,w as n,t as d,p as T,j as L,c as $,M as P,A as V,g as _,b as M}from"./index.58198437.js";const b=p({props:{tags:{default:[],type:Array}},mounted(){},computed:{}});const h=t=>(T("data-v-1c892c53"),t=t(),L(),t),x={class:"tagBox"},N=h(()=>a("span",null," Tags: ",-1)),R={class:"tag"},C=h(()=>a("div",{style:{clear:"both"}},null,-1));function I(t,e,v,i,c,l){const w=m("RouterLink");return s(),o(u,null,[a("div",x,[N,(s(!0),o(u,null,f(t.tags,g=>(s(),o("div",null,[r(w,{to:{name:"blog",query:{tag:g}}},{default:n(()=>[a("span",R,d(g),1)]),_:2},1032,["to"])]))),256))]),C],64)}const S=B(b,[["render",I],["__scopeId","data-v-1c892c53"]]),A=M(" Posts "),H={key:0,class:"tagTitle"},q={key:0,class:"tagTitle"},F={class:"postPreview"},j={class:"postPreviewTitle"},z=["innerHTML"],D=a("span",{class:"viewPostButton"},"View Post...",-1),E={key:1},G=p({data(){return{manifest:new y({})}},mounted(){k().then(t=>{this.manifest=t}),console.log("Heres the man"),console.log(this.manifest)},computed:{tag(){return V().query.tag},manifestLoaded(){return this.manifest.loaded()},posts(){return console.log(this.tag),this.tag?new Map(Array.from(this.manifest.posts).filter(([t,e])=>!!e.tags.includes(this.tag))):this.manifest.posts}}}),O=p({...G,__name:"BlogView",setup(t){return(e,v)=>{const i=m("RouterLink");return s(),$(P,null,{title:n(()=>[A,e.tag?(s(),o("span",H," ... with tag: "+d(e.tag),1)):_("",!0),r(i,{to:{name:"blog"}},{default:n(()=>[e.tag?(s(),o("span",q," View all posts ")):_("",!0)]),_:1})]),content:n(()=>[e.manifestLoaded?(s(!0),o(u,{key:0},f(e.posts,([c,l])=>(s(),o("div",F,[r(i,{to:{name:"blog_post",params:{ref:c}}},{default:n(()=>[a("h3",j,d(l.title),1)]),_:2},1032,["to"]),r(S,{tags:l.tags},null,8,["tags"]),a("span",{class:"postPreviewText",innerHTML:l.preview},null,8,z),r(i,{to:{name:"blog_post",params:{ref:c}}},{default:n(()=>[D]),_:2},1032,["to"])]))),256)):_("",!0),e.posts?_("",!0):(s(),o("div",E," No posts found... "))]),_:1})}}});export{O as default};
